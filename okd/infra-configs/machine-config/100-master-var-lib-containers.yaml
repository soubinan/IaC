# Generated by Butane; do not edit
apiVersion: machineconfiguration.openshift.io/v1
kind: MachineConfig
metadata:
  labels:
    machineconfiguration.openshift.io/role: master
  name: 100-master-var-lib-containers
spec:
  config:
    ignition:
      version: 3.4.0
    storage:
      files:
        - contents:
            compression: gzip
            source: data:;base64,H4sIAAAAAAAC/0zOsU7DMBAA0N1fcZQVY9M0JRkRVGLIgEDM0dk+K1aduMpdokTqx7PyB+/xwbg0GYc8KDVeIz9vkUF3sOKsc3Lal0lARzCBVhMSX43bdQqGPSf983Hpuv7r8v3ef1aV7d/Crbf2dKzp5YynlqqmPR6jtc051vVrtG3jA9zvQH4ocPid0GUCKeBnQiGIKRPvLDQ+wW0uDl3eAfNMGHagLbHwQS2BVgwjMIlkUlIWP4Ah8eY/GdNEM+uxLJMo2pKovwAAAP//mObsouoAAAA=
          mode: 493
          path: /etc/create-filesystem
    systemd:
      units:
        - contents: |
            [Unit]
            Description=Create filesystem for /var/lib/containers
            DefaultDependencies=false
            After=systemd-udev-settle.service
            Before=local-fs-pre.target
            ConditionPathExists=!/etc/var-lib-containers-mount

            [Service]
            RemainAfterExit=yes
            ExecStart=/etc/create-filesystem

            RestartForceExitStatus=77

            [Install]
            WantedBy=multi-user.target
          enabled: true
          name: create-var-lib-containers.service
        - contents: |
            [Unit]
            Description=Mount /var/lib/containers
            Before=local-fs.target

            [Mount]
            What=/dev/disk/by-label/var-lib-cont
            Where=/var/lib/containers
            Type=xfs
            TimeoutSec=120s

            [Install]
            RequiredBy=local-fs.target
          enabled: true
          name: var-lib-containers.mount
        - contents: |
            [Unit]
            Description=Restore recursive SELinux security contexts
            DefaultDependencies=no
            After=var-lib-containers.mount
            Before=crio.service

            [Service]
            Type=oneshot
            RemainAfterExit=yes
            ExecStart=/sbin/restorecon -R /var/lib/containers/
            TimeoutSec=0

            [Install]
            WantedBy=multi-user.target graphical.target
          enabled: true
          name: restorecon-var-lib-containers.service
